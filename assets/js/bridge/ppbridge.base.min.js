(function(c){c.PPBridge=function(){var c={},n={},h={},q=0,r=1,d={},k,l=0,g=[],m,p=!1;return{init:function(a){function b(){function e(a,e){window.location="jsr://"+a+"/"+e}a&&(c=a.actions,n=a.handlers,h=a.callbacks);window.ppIOS&&(ppIOS.methodCall=e);p=!0}k=this;setTimeout(function(){b()},25)},getResult:function(a,b){var e=h[a];e&&e.apply(e,[b])},callHandler:function(a){a=n[a];var b="";if(!a)return"false";b=a.apply(a,[]);return"undefined"===typeof b||b?"true":"false"},getAction:function(a){if(!a||
"*"==a)return JSON.stringify(c);if(a=c[a])return JSON.stringify(a)},call:function(a){function b(a){var b,f;"string"===typeof a?(b=a,a=c[b]):"object"===typeof a&&(b=q++,c[b]=a);d.actionId=b;d.functionName=a.func;a.args&&(d.callback=a.args.cb||"");d.config=a.args||"";f=(a=d.callback&&"function"===typeof d.callback)?r++:0;a?(h[f]=d.callback,c[b].cb=f):f=d.callback;k.execute(f,d)}if(!p)return setTimeout(function(){k.call(a)},25),!1;if(l)return g.push(a),0<g.length&&(clearInterval(m),m=setInterval(function(){0<
g.length?b(g.shift()):clearInterval(m)},100)),!1;l=1;setTimeout(function(){l=0},100);b(a)},execute:function(a,b){window.ppAndroid&&window.ppAndroid.methodCall?ppAndroid.methodCall(b.functionName,JSON.stringify(b.config)):window.ppIOS&&window.ppIOS.methodCall&&ppIOS.methodCall(b.functionName,b.actionId)}}}();c.$?c.$.NativeBridge=c.PPBridge:c.$={NativeBridge:c.PPBridge}})(window);
